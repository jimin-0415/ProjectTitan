/**********************************************************************************************************************
* @file  BufferReader.cpp
*
* @brief BufferReader 클래스 cpp 파일
*
* @date  2025.03.08
**********************************************************************************************************************/


#include "pch.h"
#include "BufferReader.h"


/**********************************************************************************************************************
* @brief 생성자
**********************************************************************************************************************/
BufferReader::BufferReader()
{
}

/**********************************************************************************************************************
* @brief 생성자
**********************************************************************************************************************/
BufferReader::BufferReader( BYTE* buffer, ExInt32 size, ExUInt32 pos )
:
_buffer( buffer ), _size( size ), _pos( pos)
{
}

/**********************************************************************************************************************
* @brief 소멸자
**********************************************************************************************************************/
BufferReader::~BufferReader()
{
}

/**********************************************************************************************************************
* @brief 데이터를 미리본다
**********************************************************************************************************************/
ExBool BufferReader::Peek( ExVoid* dest, ExUInt32 len )
{
	if ( FreeSize() < len )
		return false;

	::memcpy( dest, &_buffer[ _pos ], len );
	return true;
}

/**********************************************************************************************************************
* @brief 데이터를 읽는다
**********************************************************************************************************************/
ExBool BufferReader::Read( ExVoid* dest, ExUInt32 len )
{
	if ( Peek( dest, len ) == false )
		return false;

	_pos += len;
	return true;
}
